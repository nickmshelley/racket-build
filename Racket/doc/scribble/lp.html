<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>5&nbsp;Literate Programming</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="lp.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Scribble:<span class="mywbr"> </span> The Racket Documentation Tool</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="getting-started.html" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="reader.html" class="tocviewlink" data-pltdoc="x">@ Syntax</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="generic-prose.html" class="tocviewlink" data-pltdoc="x">High-<wbr></wbr>Level Scribble API</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="plt-manuals.html" class="tocviewlink" data-pltdoc="x">Scribbling Documentation</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Literate Programming</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="text.html" class="tocviewlink" data-pltdoc="x">Text Generation</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="internals.html" class="tocviewlink" data-pltdoc="x">Low-<wbr></wbr>Level Scribble API</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="running.html" class="tocviewlink" data-pltdoc="x">Running <span class="stt">scribble</span></a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>5&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Literate Programming</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="#%28part._scribble_lp_.Language%29" class="tocviewlink" data-pltdoc="x"><span class="RktModLink"><span class="RktSym">scribble/<span class="mywbr"> </span>lp</span></span> Language</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="#%28part._scribble_lp-include_.Module%29" class="tocviewlink" data-pltdoc="x"><span class="RktModLink"><span class="RktSym">scribble/<span class="mywbr"> </span>lp-<wbr></wbr>include</span></span> Module</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cf~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;f&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cfs-body~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fs-body&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">5.1<tt>&nbsp;</tt></span><a href="#(part._scribble_lp_.Language)" class="tocsubseclink" data-pltdoc="x"><span class="RktModLink"><span class="RktSym">scribble/<span class="mywbr"> </span>lp</span></span> Language</a></td></tr><tr><td><a href="#(form._((lib._scribble/lp..rkt)._chunk))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: scribble/lp"><span class="RktSym"><span class="RktStxLink">chunk</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">5.2<tt>&nbsp;</tt></span><a href="#(part._scribble_lp-include_.Module)" class="tocsubseclink" data-pltdoc="x"><span class="RktModLink"><span class="RktSym">scribble/<span class="mywbr"> </span>lp-<wbr></wbr>include</span></span> Module</a></td></tr><tr><td><a href="#(form._((lib._scribble/lp-include..rkt)._lp-include))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: scribble/lp-include"><span class="RktSym"><span class="RktStxLink">lp-<wbr></wbr>include</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.3.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;5.3.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Compatibility_Libraries.html" title="backward to &quot;4.8 Compatibility Libraries&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Scribble: The Racket Documentation Tool&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="text.html" title="forward to &quot;6 Text Generation&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>5<tt>&nbsp;</tt><a name="(part._lp)"></a>Literate Programming</h3><p>Programs written using <a href="#%28mod-path._scribble%2Flp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">scribble/lp</span></a> are simultaneously
two things: a program and a document describing the program.</p><p>Programs in <a href="#%28mod-path._scribble%2Flp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">scribble/lp</span></a> are viewed in two different
ways, either by running the program directly or by including it with
<span class="RktSym"><a href="#%28form._%28%28lib._scribble%2Flp-include..rkt%29._lp-include%29%29" class="RktStxLink" data-pltdoc="x">lp-include</a></span>.  When running the program, all of the
<span class="RktSym"><a href="#%28form._%28%28lib._scribble%2Flp..rkt%29._chunk%29%29" class="RktStxLink" data-pltdoc="x">chunk</a></span> expressions are collected and stitched together into a
program, and the rest of the module is discarded. When using
<span class="RktSym"><a href="#%28form._%28%28lib._scribble%2Flp-include..rkt%29._lp-include%29%29" class="RktStxLink" data-pltdoc="x">lp-include</a></span>, the entire contents of the module are preserved
and are treated like an ordinary Scribble document, where
<span class="RktSym"><a href="#%28form._%28%28lib._scribble%2Flp..rkt%29._chunk%29%29" class="RktStxLink" data-pltdoc="x">chunk</a></span>s are typeset in a manner similar to <span class="RktSym"><a href="scribble_manual_code.html#%28form._%28%28lib._scribble%2Fmanual..rkt%29._codeblock%29%29" class="RktStxLink" data-pltdoc="x">codeblock</a></span>.</p><p>For example, consider this program:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">#lang scribble/lp</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Literate programs have chunks of code, like this one:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">@chunk[&lt;f&gt;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(define (f x)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&lt;fs-body&gt;)]</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">and this one:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">@chunk[&lt;fs-body&gt;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(* x x)]</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">that, when assembled, produce a complete program, in this case:</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">@racketblock[(define (f x)</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(* x x))]</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></span></p></td></tr></table></p><p>When this file is <span class="RktSym"><a href="../reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span>d in the normal manner, it defines a
function <span class="RktSym">f</span> that squares its argument, and the documentation
is ignored. When it is included with <span class="RktSym"><a href="#%28form._%28%28lib._scribble%2Flp-include..rkt%29._lp-include%29%29" class="RktStxLink" data-pltdoc="x">lp-include</a></span>, it looks
like this:</p><blockquote class="LPBoxed"><p>Literate programs have chunks of code, like this one:</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cf~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cf~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;f&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><a href="#%28elem._%28chunk._~3cfs-body~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fs-body&gt;</a><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>and this one:</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cfs-body~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cfs-body~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;fs-body&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">*</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></p></blockquote></div></p><p>that, when assembled, produce a complete program, in this case:</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">*</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote><h4>5.1<tt>&nbsp;</tt><a name="(part._scribble_lp_.Language)"></a><a name="(mod-path._scribble/lp)"></a><a href="#%28mod-path._scribble%2Flp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">scribble/lp</span></a> Language</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><a href="../guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="#%28mod-path._scribble%2Flp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">scribble/lp</span></a></td></tr></table></div><div class="SIntrapara">The <a href="#%28mod-path._scribble%2Flp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">scribble/lp</span></a> language
provides core support for literate programming.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._scribble/lp..rkt)._chunk))"></a><span title="Provided from: scribble/lp"><span class="RktSym"><a href="#%28form._%28%28lib._scribble%2Flp..rkt%29._chunk%29%29" class="RktStxLink" data-pltdoc="x">chunk</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">form</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Introduces a chunk, binding <span class="RktVar">id</span> for use in other
chunks. Normally, <span class="RktVar">id</span> starts with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&lt;</span><span class="hspace"></span></span> and ends with
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">&gt;</span><span class="hspace"></span></span>.</div></p><p>When running a scribble program only the code inside the
chunks is run; the rest is ignored.</p><p>If <span class="RktVar">id</span> is <span class="RktSym">&lt;*&gt;</span>, then this chunk is
used as the main chunk in the file. If <span class="RktSym">&lt;*&gt;</span>
is never used, then the first chunk in the file is treated
as the main chunk. If some chunk is not referenced from
the main chunk (possibly indirectly via other chunks that
the main chunk references), then it is not included in the
program and thus is not run.</p><h4>5.2<tt>&nbsp;</tt><a name="(part._scribble_lp-include_.Module)"></a><a name="(mod-path._scribble/lp-include)"></a><a href="#%28mod-path._scribble%2Flp-include%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">scribble/lp-include</span></a> Module</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._scribble%2Flp-include%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">scribble/lp-include</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The
<a href="#%28mod-path._scribble%2Flp-include%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">scribble/lp-include</span></a> library is normally used within a
Scribble document&#8212;<wbr></wbr>that is, a module that starts with something like
<a href="../guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="stt"> </span><span class="RktSym">scribble/base</span> or <a href="../guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="stt"> </span><span class="RktSym">scribble/manual</span>, instead of <a href="../guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="stt"> </span><span class="RktSym"><a href="scribble_manual_code.html#%28form._%28%28lib._scribble%2Fmanual..rkt%29._racket%29%29" class="RktStxLink" data-pltdoc="x">racket</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._scribble/lp-include..rkt)._lp-include))"></a><span title="Provided from: scribble/lp-include"><span class="RktSym"><a href="#%28form._%28%28lib._scribble%2Flp-include..rkt%29._lp-include%29%29" class="RktStxLink" data-pltdoc="x">lp-include</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">filename</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Includes the source of <span class="RktVar">filename</span> as the typeset version of the literate
program.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.3.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;5.3.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Compatibility_Libraries.html" title="backward to &quot;4.8 Compatibility Libraries&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Scribble: The Racket Documentation Tool&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="text.html" title="forward to &quot;6 Text Generation&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>