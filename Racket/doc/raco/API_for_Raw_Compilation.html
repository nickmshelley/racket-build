<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>12.3&nbsp;API for Raw Compilation</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco</span>:<span class="mywbr"> </span> Racket Command-<wbr></wbr>Line Tools</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="make.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco make</span>:<span class="mywbr"> </span> Compiling Source to Bytecode</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="link.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco link</span>:<span class="mywbr"> </span> Library Collection Links</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="exe.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco exe</span>:<span class="mywbr"> </span> Creating Stand-<wbr></wbr>Alone Executables</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="exe-dist.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco distribute</span>:<span class="mywbr"> </span> Sharing Stand-<wbr></wbr>Alone Executables</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="plt.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco pack</span>:<span class="mywbr"> </span> Packing Library Collections</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="unpack.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco unpack</span>:<span class="mywbr"> </span> Unpacking Library Collections</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="planet.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco planet</span>:<span class="mywbr"> </span> Automatic Package Distribution</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="pkg.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco pkg</span>:<span class="mywbr"> </span> Package Management</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="setup.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco setup</span>:<span class="mywbr"> </span> Installation Management</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="decompile.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco decompile</span>:<span class="mywbr"> </span> Decompiling Bytecode</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="demod.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco demod</span>:<span class="mywbr"> </span> Demodularizing Programs</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="ctool.html" class="tocviewselflink" data-pltdoc="x"><span class="stt">raco ctool</span>:<span class="mywbr"> </span> Working with C Code</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="test.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco test</span>:<span class="mywbr"> </span> Run tests</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="docs.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco docs</span>:<span class="mywbr"> </span> Documentation Search</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="expand.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco expand</span>:<span class="mywbr"> </span> Macro Expansion</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="scribble.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco scribble</span>:<span class="mywbr"> </span> Building Documentation</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="command.html" class="tocviewlink" data-pltdoc="x">Adding a <span class="stt">raco</span> Command</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>12&nbsp;</td><td><a href="ctool.html" class="tocviewlink" data-pltdoc="x"><span class="stt">raco ctool</span>:<span class="mywbr"> </span> Working with C Code</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">12.1&nbsp;</td><td><a href="cc.html" class="tocviewlink" data-pltdoc="x">Compiling and Linking C Extensions</a></td></tr><tr><td align="right">12.2&nbsp;</td><td><a href="c-mods.html" class="tocviewlink" data-pltdoc="x">Embedding Modules via C</a></td></tr><tr><td align="right">12.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">API for Raw Compilation</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>12.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">API for Raw Compilation</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">12.3.1&nbsp;</td><td><a href="#%28part._api~3azo%29" class="tocviewlink" data-pltdoc="x">Bytecode Compilation</a></td></tr><tr><td align="right">12.3.2&nbsp;</td><td><a href="#%28part._api~3aloading%29" class="tocviewlink" data-pltdoc="x">Loading Compiler Support</a></td></tr><tr><td align="right">12.3.3&nbsp;</td><td><a href="#%28part._api~3aoptions%29" class="tocviewlink" data-pltdoc="x">Options for the Compiler</a></td></tr><tr><td align="right">12.3.4&nbsp;</td><td><a href="#%28part._api~3aunit%29" class="tocviewlink" data-pltdoc="x">The Compiler as a Unit</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">12.3.1<tt>&nbsp;</tt></span><a href="#(part._api~3azo)" class="tocsubseclink" data-pltdoc="x">Bytecode Compilation</a></td></tr><tr><td><a href="#(def._((lib._compiler/compiler..rkt)._compile-zos))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/compiler"><span class="RktSym"><span class="RktValLink">compile-<wbr></wbr>zos</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._compiler/compiler..rkt)._compile-collection-zos))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/compiler"><span class="RktSym"><span class="RktValLink">compile-<wbr></wbr>collection-<wbr></wbr>zos</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._compiler/compiler..rkt)._compile-directory-zos))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/compiler"><span class="RktSym"><span class="RktValLink">compile-<wbr></wbr>directory-<wbr></wbr>zos</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">12.3.2<tt>&nbsp;</tt></span><a href="#(part._api~3aloading)" class="tocsubseclink" data-pltdoc="x">Loading Compiler Support</a></td></tr><tr><td><a href="#(def._((lib._compiler/compiler..rkt)._current-compiler-dynamic-require-wrapper))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/compiler"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>compiler-<wbr></wbr>dynamic-<wbr></wbr>require-<wbr></wbr>wrapper</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">12.3.3<tt>&nbsp;</tt></span><a href="#(part._api~3aoptions)" class="tocsubseclink" data-pltdoc="x">Options for the Compiler</a></td></tr><tr><td><a href="#(def._((lib._compiler/option..rkt)._somewhat-verbose))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/option"><span class="RktSym"><span class="RktValLink">somewhat-<wbr></wbr>verbose</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._compiler/option..rkt)._verbose))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/option"><span class="RktSym"><span class="RktValLink">verbose</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._compiler/option..rkt)._compile-subcollections))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/option"><span class="RktSym"><span class="RktValLink">compile-<wbr></wbr>subcollections</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">12.3.4<tt>&nbsp;</tt></span><a href="#(part._api~3aunit)" class="tocsubseclink" data-pltdoc="x">The Compiler as a Unit</a></td></tr><tr><td><span class="tocsublinknumber">12.3.4.1<tt>&nbsp;</tt></span><a href="#(part._.Signatures)" class="tocsubseclink" data-pltdoc="x">Signatures</a></td></tr><tr><td><a href="#(form._((lib._compiler/sig..rkt)._compiler~5e))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/sig"><span class="RktSym"><span class="RktStxLink">compiler^</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._compiler/sig..rkt)._compiler~3aoption~5e))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/sig"><span class="RktSym"><span class="RktStxLink">compiler:<span class="mywbr"> </span>option^</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">12.3.4.2<tt>&nbsp;</tt></span><a href="#(part._.Main_.Compiler_.Unit)" class="tocsubseclink" data-pltdoc="x">Main Compiler Unit</a></td></tr><tr><td><a href="#(def._((lib._compiler/compiler-unit..rkt)._compiler~40))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/compiler-unit"><span class="RktSym"><span class="RktValLink">compiler@</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">12.3.4.3<tt>&nbsp;</tt></span><a href="#(part._.Options_.Unit)" class="tocsubseclink" data-pltdoc="x">Options Unit</a></td></tr><tr><td><a href="#(def._((lib._compiler/option-unit..rkt)._compiler~3aoption~40))" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: compiler/option-unit"><span class="RktSym"><span class="RktValLink">compiler:<span class="mywbr"> </span>option@</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.3.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;5.3.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="c-mods.html" title="backward to &quot;12.2 Embedding Modules via C&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ctool.html" title="up to &quot;12 raco ctool: Working with C Code&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="test.html" title="forward to &quot;13 raco test: Run tests&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>12.3<tt>&nbsp;</tt><a name="(part._.A.P.I_for_.Raw_.Compilation)"></a><a name="(mod-path._compiler/compiler)"></a>API for Raw Compilation</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/compiler</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The <a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/compiler</span></a> library provides the
functionality of <span class="stt">raco make</span> for compilation to bytecode, but
through a Racket API.</div></p><h5>12.3.1<tt>&nbsp;</tt><a name="(part._api~3azo)"></a>Bytecode Compilation</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">((</span><a name="(def._((lib._compiler/compiler..rkt)._compile-zos))"></a><span title="Provided from: compiler/compiler"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Fcompiler..rkt%29._compile-zos%29%29" class="RktValLink" data-pltdoc="x">compile-zos</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">expr</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:module?</span><span class="hspace">&nbsp;</span><span class="RktVar">module?</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:verbose?</span><span class="hspace">&nbsp;</span><span class="RktVar">verbose?</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">racket-files</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">dest-dir</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">module?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">verbose?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">racket-files</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dest-dir</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._false%2Fc%29%29" class="RktValLink" data-pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._one-of%2Fc%29%29" class="RktValLink" data-pltdoc="x">one-of/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">auto</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Supplying just <span class="RktVar">expr</span> returns a compiler that is initialized
with the expression <span class="RktVar">expr</span>, as described below.</div></p><p>The compiler takes a list of Racket files and compiles each of them to
bytecode, placing the resulting bytecode in a <span class="stt">".zo"</span> file
within the directory specified by <span class="RktVar">dest-dir</span>.  If
<span class="RktVar">dest-dir</span> is <span class="RktVal">#f</span>, each bytecode result is placed in
the same directory as its source file.  If <span class="RktVar">dest-dir</span> is
<span class="RktVal">'</span><span class="RktVal">auto</span>, each bytecode file is placed in a <span class="stt">"compiled"</span>
subdirectory relative to the source; the directory is created if
necessary.</p><p>If <span class="RktVar">expr</span> is anything other than <span class="RktVal">#f</span>, then a namespace
is created for compiling the files that are supplied later, and
<span class="RktVar">expr</span> is evaluated to initialize the created namespace. For
example, <span class="RktVar">expr</span> might load a set of macros. In addition, the
expansion-time part of each expression later compiled is evaluated in
the namespace before being compiled, so that the effects are visible
when compiling later expressions.</p><p>If <span class="RktVar">expr</span> is <span class="RktVal">#f</span>, then no compilation namespace is
created (the current namespace is used), and expressions in the files
are assumed to compile independently (so there&rsquo;s no need to evaluate
the expansion-time part of an expression to compile).</p><p>Typically, <span class="RktVar">expr</span> is <span class="RktVal">#f</span> for compiling <span class="RktSym"><a href="../reference/module.html#%28form._%28%28quote._~23~25kernel%29._module%29%29" class="RktStxLink" data-pltdoc="x">module</a></span>
files, and it is <span class="RktPn">(</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span> for compiling files with top-level
definitions and expressions.</p><p>If <span class="RktVar">module?</span> is <span class="RktVal">#t</span>, then the given files are read and
compiled as modules (so there is no dependency on the current
namespace&rsquo;s top-level environment).</p><p>If <span class="RktVar">verbose?</span> is <span class="RktVal">#t</span>, the output file for each given
file is reported through the current output port.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td colspan="3"><span class="RktPn">(</span><a name="(def._((lib._compiler/compiler..rkt)._compile-collection-zos))"></a><span title="Provided from: compiler/compiler"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Fcompiler..rkt%29._compile-collection-zos%29%29" class="RktValLink" data-pltdoc="x">compile-collection-zos</a></span></span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">collection</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:skip-path</span><span class="hspace">&nbsp;</span><span class="RktVar">skip-path</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:skip-doc-sources?</span><span class="hspace">&nbsp;</span><span class="RktVar">skip-docs?</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:managed-compile-zo</span><span class="hspace">&nbsp;</span><span class="RktVar">managed-compile-zo</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">collection</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip-path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip-docs?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">managed-compile-zo</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="make.html#%28def._%28%28lib._compiler%2Fcm..rkt%29._make-caching-managed-compile-zo%29%29" class="RktValLink" data-pltdoc="x">make-caching-managed-compile-zo</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Compiles the specified collection&rsquo;s files to <span class="stt">".zo"</span> files
by using <span class="RktVar">managed-compile-zo</span> on each source file.
The <span class="stt">".zo"</span> files are placed into the collection&rsquo;s
<span class="stt">"compiled"</span> directory.</div></p><p>By default, all files with the
extension <span class="stt">".rkt"</span>, <span class="stt">".ss"</span>, or <span class="stt">".scm"</span> in a collection are
compiled, as are all such files within subdirectories, execept that
any file or directory whose path starts with <span class="RktVar">skip-path</span> is
skipped. (&ldquo;Starts with&rdquo; means that the simplified path <span class="RktVar">p</span>&rsquo;s
byte-string form after <span class="RktPn">(</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28quote._~23~25kernel%29._simplify-path%29%29" class="RktValLink" data-pltdoc="x">simplify-path</a></span><span class="stt"> </span><span class="RktVar">p</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span>starts with the
byte-string form of <span class="RktPn">(</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28quote._~23~25kernel%29._simplify-path%29%29" class="RktValLink" data-pltdoc="x">simplify-path</a></span><span class="stt"> </span><span class="RktVar">skip-path</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span>.)</p><p>The collection compiler reads the collection&rsquo;s <span class="stt">"info.rkt"</span> file
(see <a href="info_rkt.html" data-pltdoc="x"><span class="stt">"info.rkt"</span> File Format</a>) to obtain further instructions for compiling the
collection.  The following fields are used:</p><ul><li><p><a name="(idx._(gentag._31._(lib._scribblings/raco/raco..scrbl)))"></a><span class="RktSym">name</span> : The name of the collection as a string, used
only for status and error reporting.</p></li><li><p><a name="(idx._(gentag._32._(lib._scribblings/raco/raco..scrbl)))"></a><span class="RktSym">compile-omit-paths</span> : A list of immediate file
and directory paths that should not be compiled. Alternatively,
this field&rsquo;s value <span class="RktVal">'</span><span class="RktVal">all</span>, which is equivalent to
specifying all files and directories in the collection (to
effectively ignore the collection for
compilation). Automatically omitted files and directories are
<span class="stt">"compiled"</span>, <span class="stt">"doc"</span>, and those whose names
start with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">.</span><span class="hspace"></span></span>.</p><p>Files that are required by other files, however, are always
compiled in the process of compiling the requiring file&#8212;<wbr></wbr>even
when the required file is listed with this field or when the
field&rsquo;s value is <span class="RktVal">'</span><span class="RktVal">all</span>.</p></li><li><p><a name="(idx._(gentag._33._(lib._scribblings/raco/raco..scrbl)))"></a><span class="RktSym">compile-omit-files</span> : A list of filenames (without
directory paths); that are not compiled, in addition to the
contents of <span class="RktSym">compile-omit-paths</span>.  Do not use this
field; it is for backward compatibility.</p></li><li><p><a name="(idx._(gentag._34._(lib._scribblings/raco/raco..scrbl)))"></a><span class="RktSym">scribblings</span> : A list of pairs, each of which
starts with a path for documentation source. The sources (and
the files that they require) are compiled in the same way as
<span class="stt">".rkt"</span>, <span class="stt">".ss"</span>, and <span class="stt">".scm"</span> files,
unless the provided <span class="RktVar">skip-docs?</span> argument is a true
value.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td colspan="3"><span class="RktPn">(</span><a name="(def._((lib._compiler/compiler..rkt)._compile-directory-zos))"></a><span title="Provided from: compiler/compiler"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Fcompiler..rkt%29._compile-directory-zos%29%29" class="RktValLink" data-pltdoc="x">compile-directory-zos</a></span></span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">path</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">info</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:verbose</span><span class="hspace">&nbsp;</span><span class="RktVar">verbose?</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:skip-path</span><span class="hspace">&nbsp;</span><span class="RktVar">skip-path</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:skip-doc-sources?</span><span class="hspace">&nbsp;</span><span class="RktVar">skip-docs?</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:managed-compile-zo</span><span class="hspace">&nbsp;</span><span class="RktVar">managed-compile-zo</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">info</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">verbose?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip-path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">skip-docs?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">managed-compile-zo</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="make.html#%28def._%28%28lib._compiler%2Fcm..rkt%29._make-caching-managed-compile-zo%29%29" class="RktValLink" data-pltdoc="x">make-caching-managed-compile-zo</a></span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Fcompiler..rkt%29._compile-collection-zos%29%29" class="RktValLink" data-pltdoc="x">compile-collection-zos</a></span>, but compiles the given directory
rather than a collection. The <span class="RktVar">info</span> function behaves like the
result of <span class="RktSym">get-info</span> to supply <span class="stt">"info.rkt"</span> fields,
instead of using an <span class="stt">"info.rkt"</span> file (if any) in the directory.</div></p><h5>12.3.2<tt>&nbsp;</tt><a name="(part._api~3aloading)"></a>Loading Compiler Support</h5><p>The compiler unit loads certain tools on demand via <span class="RktSym"><a href="../reference/Module_Names_and_Loading.html#%28def._%28%28quote._~23~25kernel%29._dynamic-require%29%29" class="RktValLink" data-pltdoc="x">dynamic-require</a></span>
and <span class="RktSym">get-info</span>. If the namespace used during compilation is different
from the namespace used to load the compiler, or if other load-related
parameters are set, then the following parameter can be used to
restore settings for <span class="RktSym"><a href="../reference/Module_Names_and_Loading.html#%28def._%28%28quote._~23~25kernel%29._dynamic-require%29%29" class="RktValLink" data-pltdoc="x">dynamic-require</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._compiler/compiler..rkt)._current-compiler-dynamic-require-wrapper))"></a><span title="Provided from: compiler/compiler"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Fcompiler..rkt%29._current-compiler-dynamic-require-wrapper%29%29" class="RktValLink" data-pltdoc="x">current-compiler-dynamic-require-wrapper</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: compiler/compiler"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Fcompiler..rkt%29._current-compiler-dynamic-require-wrapper%29%29" class="RktValLink" data-pltdoc="x">current-compiler-dynamic-require-wrapper</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%29%29" class="RktStxLink" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A parameter whose value is a procedure that takes a thunk to
apply. The default wrapper sets the current namespace (via
<span class="RktSym"><a href="../reference/parameters.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._parameterize%29%29" class="RktStxLink" data-pltdoc="x">parameterize</a></span>) before calling the thunk, using the namespace
in which the <span class="RktSym">compiler/compiler</span> library was originally
instantiated.</div></p><h5>12.3.3<tt>&nbsp;</tt><a name="(part._api~3aoptions)"></a><a name="(mod-path._compiler/option)"></a>Options for the Compiler</h5><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._compiler%2Foption%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/option</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The <a href="#%28mod-path._compiler%2Foption%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/option</span></a> module provides options (in the
form of parameters) that control the compiler&rsquo;s behaviors.</div></p><p>More options are defined by the <a href="../dynext/Compilation.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">dynext/compile</span></a> and
<a href="../dynext/Linking.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">dynext/link</span></a> libraries, which control the actual C
compiler and linker that are used for compilation via C.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._compiler/option..rkt)._somewhat-verbose))"></a><span title="Provided from: compiler/option"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Foption..rkt%29._somewhat-verbose%29%29" class="RktValLink" data-pltdoc="x">somewhat-verbose</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: compiler/option"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Foption..rkt%29._somewhat-verbose%29%29" class="RktValLink" data-pltdoc="x">somewhat-verbose</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktVal">#t</span> value for the parameter causes the compiler to print
the files that it compiles and produces. The default is <span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._compiler/option..rkt)._verbose))"></a><span title="Provided from: compiler/option"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Foption..rkt%29._verbose%29%29" class="RktValLink" data-pltdoc="x">verbose</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: compiler/option"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Foption..rkt%29._verbose%29%29" class="RktValLink" data-pltdoc="x">verbose</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktVal">#t</span> value for the parameter causes the compiler to print
verbose messages about its operations. The default is <span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._compiler/option..rkt)._compile-subcollections))"></a><span title="Provided from: compiler/option"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Foption..rkt%29._compile-subcollections%29%29" class="RktValLink" data-pltdoc="x">compile-subcollections</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._one-of%2Fc%29%29" class="RktValLink" data-pltdoc="x">one-of/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: compiler/option"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Foption..rkt%29._compile-subcollections%29%29" class="RktValLink" data-pltdoc="x">compile-subcollections</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">cols</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cols</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._one-of%2Fc%29%29" class="RktValLink" data-pltdoc="x">one-of/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A parameter that specifies whether sub-collections are compiled by
<span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Fcompiler..rkt%29._compile-collection-zos%29%29" class="RktValLink" data-pltdoc="x">compile-collection-zos</a></span>.  The default is <span class="RktVal">#t</span>.</div></p><h5>12.3.4<tt>&nbsp;</tt><a name="(part._api~3aunit)"></a>The Compiler as a Unit</h5><h5>12.3.4.1<tt>&nbsp;</tt><a name="(part._.Signatures)"></a><a name="(mod-path._compiler/sig)"></a>Signatures</h5><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._compiler%2Fsig%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/sig</span></a><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>signature</p></div></div><p class="RForeground"><a name="(form._((lib._compiler/sig..rkt)._compiler~5e))"></a><span title="Provided from: compiler/sig"><span class="RktSym"><a href="#%28form._%28%28lib._compiler%2Fsig..rkt%29._compiler~5e%29%29" class="RktStxLink" data-pltdoc="x">compiler^</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span>signature</p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Includes all of the names exported by
<a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/compiler</span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>signature</p></div></div><p class="RForeground"><a name="(form._((lib._compiler/sig..rkt)._compiler~3aoption~5e))"></a><span title="Provided from: compiler/sig"><span class="RktSym"><a href="#%28form._%28%28lib._compiler%2Fsig..rkt%29._compiler~3aoption~5e%29%29" class="RktStxLink" data-pltdoc="x">compiler:option^</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span>signature</p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Includes all of the names exported by
<a href="#%28mod-path._compiler%2Foption%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/option</span></a>.</div></p><h5>12.3.4.2<tt>&nbsp;</tt><a name="(part._.Main_.Compiler_.Unit)"></a><a name="(mod-path._compiler/compiler-unit)"></a>Main Compiler Unit</h5><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._compiler%2Fcompiler-unit%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/compiler-unit</span></a><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._compiler/compiler-unit..rkt)._compiler~40))"></a><span title="Provided from: compiler/compiler-unit"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Fcompiler-unit..rkt%29._compiler~40%29%29" class="RktValLink" data-pltdoc="x">compiler@</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Unit_Utilities.html#%28def._%28%28lib._racket%2Funit..rkt%29._unit~3f%29%29" class="RktValLink" data-pltdoc="x">unit?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Provides the exports of <a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/compiler</span></a> in unit
form, where C-compiler operations are imports to the unit, although
they are not used.</div></p><p>The unit imports <span class="RktSym"><a href="#%28form._%28%28lib._compiler%2Fsig..rkt%29._compiler~3aoption~5e%29%29" class="RktStxLink" data-pltdoc="x">compiler:option^</a></span>, <span class="RktSym"><a href="../dynext/Compilation.html#%28form._%28%28lib._dynext%2Fcompile-sig..rkt%29._dynext~3acompile~5e%29%29" class="RktStxLink" data-pltdoc="x">dynext:compile^</a></span>,
<span class="RktSym"><a href="../dynext/Linking.html#%28form._%28%28lib._dynext%2Flink-sig..rkt%29._dynext~3alink~5e%29%29" class="RktStxLink" data-pltdoc="x">dynext:link^</a></span>, and <span class="RktSym"><a href="../dynext/Filenames.html#%28form._%28%28lib._dynext%2Ffile-sig..rkt%29._dynext~3afile~5e%29%29" class="RktStxLink" data-pltdoc="x">dynext:file^</a></span>. It exports
<span class="RktSym"><a href="#%28form._%28%28lib._compiler%2Fsig..rkt%29._compiler~5e%29%29" class="RktStxLink" data-pltdoc="x">compiler^</a></span>.</p><h5>12.3.4.3<tt>&nbsp;</tt><a name="(part._.Options_.Unit)"></a><a name="(mod-path._compiler/option-unit)"></a>Options Unit</h5><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._compiler%2Foption-unit%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/option-unit</span></a><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._compiler/option-unit..rkt)._compiler~3aoption~40))"></a><span title="Provided from: compiler/option-unit"><span class="RktSym"><a href="#%28def._%28%28lib._compiler%2Foption-unit..rkt%29._compiler~3aoption~40%29%29" class="RktValLink" data-pltdoc="x">compiler:option@</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Unit_Utilities.html#%28def._%28%28lib._racket%2Funit..rkt%29._unit~3f%29%29" class="RktValLink" data-pltdoc="x">unit?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Provides the exports of <a href="#%28mod-path._compiler%2Foption%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">compiler/option</span></a> in unit
form. It imports no signatures, and exports
<span class="RktSym"><a href="#%28form._%28%28lib._compiler%2Fsig..rkt%29._compiler~3aoption~5e%29%29" class="RktStxLink" data-pltdoc="x">compiler:option^</a></span>.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.3.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;5.3.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="c-mods.html" title="backward to &quot;12.2 Embedding Modules via C&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ctool.html" title="up to &quot;12 raco ctool: Working with C Code&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="test.html" title="forward to &quot;13 raco test: Run tests&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>