<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>14&nbsp;Image Core</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Mr<span class="mywbr"> </span>Lib:<span class="mywbr"> </span> Extra GUI Libraries</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Aligned_Pasteboard.html" class="tocviewlink" data-pltdoc="x">Aligned Pasteboard</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Bitmap_Label.html" class="tocviewlink" data-pltdoc="x">Bitmap Label</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Cache-image_Snip.html" class="tocviewlink" data-pltdoc="x">Cache-<wbr></wbr>image Snip</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Close_Icon.html" class="tocviewlink" data-pltdoc="x">Close Icon</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="GIF_and_Animated_GIF_Writing.html" class="tocviewlink" data-pltdoc="x">GIF and Animated GIF Writing</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Graphs.html" class="tocviewlink" data-pltdoc="x">Graphs</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Hierarchical_List_Control.html" class="tocviewlink" data-pltdoc="x">Hierarchical List Control</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Include_Bitmap.html" class="tocviewlink" data-pltdoc="x">Include Bitmap</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Interactive_Value_Port.html" class="tocviewlink" data-pltdoc="x">Interactive Value Port</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="Name_Message.html" class="tocviewlink" data-pltdoc="x">Name Message</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Path_Dialog.html" class="tocviewlink" data-pltdoc="x">Path Dialog</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Plot.html" class="tocviewlink" data-pltdoc="x">Plot</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Switchable_Button.html" class="tocviewlink" data-pltdoc="x">Switchable Button</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Image Core</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="Matrix_Snip.html" class="tocviewlink" data-pltdoc="x">Matrix Snip</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="TeX_Table.html" class="tocviewlink" data-pltdoc="x">Te<span class="mywbr"> </span>X Table</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="Acknowledgments.html" class="tocviewlink" data-pltdoc="x">Acknowledgments</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((lib._mrlib/image-core..rkt)._render-image))" class="tocsublink" data-pltdoc="x"><span title="Provided from: mrlib/image-core"><span class="RktSym"><span class="RktValLink">render-<wbr></wbr>image</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._mrlib/image-core..rkt)._image~3f))" class="tocsublink" data-pltdoc="x"><span title="Provided from: mrlib/image-core"><span class="RktSym"><span class="RktValLink">image?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._mrlib/image-core..rkt)._un/cache-image))" class="tocsublink" data-pltdoc="x"><span title="Provided from: mrlib/image-core"><span class="RktSym"><span class="RktValLink">un/<span class="mywbr"> </span>cache-<wbr></wbr>image</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._mrlib/image-core..rkt)._compute-image-cache))" class="tocsublink" data-pltdoc="x"><span title="Provided from: mrlib/image-core"><span class="RktSym"><span class="RktValLink">compute-<wbr></wbr>image-<wbr></wbr>cache</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.3.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;5.3.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Switchable_Button.html" title="backward to &quot;13 Switchable Button&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;MrLib: Extra GUI Libraries&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Matrix_Snip.html" title="forward to &quot;15 Matrix Snip&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>14<tt>&nbsp;</tt><a name="(part._.Image_.Core)"></a><a name="(mod-path._mrlib/image-core)"></a>Image Core</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">mrlib/image-core</span></a><span class="RktPn">)</span></td></tr></table></p><p>This library is the core part of the <a href="../teachpack/2htdpimage.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">2htdp/image</span></a> library that DrRacket
links into the namespace of all languages that it runs. This ensures that minimal
support for these images are the same in all languages, specifically including
support for printing the images and constructing the core data structures making
up an image.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mrlib/image-core..rkt)._render-image))"></a><span title="Provided from: mrlib/image-core"><span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._render-image%29%29" class="RktValLink" data-pltdoc="x">render-image</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">image</span><span class="hspace">&nbsp;</span><span class="RktVar">dc</span><span class="hspace">&nbsp;</span><span class="RktVar">dx</span><span class="hspace">&nbsp;</span><span class="RktVar">dy</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">image</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Object_and_Class_Contracts.html#%28def._%28%28lib._racket%2Fclass..rkt%29._is-a~3f%2Fc%29%29" class="RktValLink" data-pltdoc="x">is-a?/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../draw/dc___.html" class="RktValLink" data-pltdoc="x">dc&lt;%&gt;</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">dy</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Draws <span class="RktVar">image</span> in <span class="RktVar">dc</span> at the position (<span class="RktVar">dx</span>,<span class="RktVar">dy</span>).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mrlib/image-core..rkt)._image~3f))"></a><span title="Provided from: mrlib/image-core"><span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Recognizes the images that library handles.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mrlib/image-core..rkt)._un/cache-image))"></a><span title="Provided from: mrlib/image-core"><span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._un%2Fcache-image%29%29" class="RktValLink" data-pltdoc="x">un/cache-image</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">image</span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">image</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an image that either caches its drawing in the
snip <span class="RktSym"><a href="../gui/snip_.html#%28meth._%28%28%28lib._racket%2Fsnip..rkt%29._snip~25%29._draw%29%29" class="RktValLink" data-pltdoc="x">draw</a></span> method or doesn&rsquo;t, depending on <span class="RktVar">b</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._mrlib/image-core..rkt)._compute-image-cache))"></a><span title="Provided from: mrlib/image-core"><span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._compute-image-cache%29%29" class="RktValLink" data-pltdoc="x">compute-image-cache</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">image</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">image</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">When the image has a bitmap-cache (which it does by default,
although <span class="RktSym"><a href="#%28def._%28%28lib._mrlib%2Fimage-core..rkt%29._un%2Fcache-image%29%29" class="RktValLink" data-pltdoc="x">un/cache-image</a></span> can disable it), this function
fills in the bitmap, doing the work to draw image into the bitmap.</div></p><p>Ordinarily, the image&rsquo;s bitmap cache is computed the first time
the image is actually rendered.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.3.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;5.3.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Switchable_Button.html" title="backward to &quot;13 Switchable Button&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;MrLib: Extra GUI Libraries&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Matrix_Snip.html" title="forward to &quot;15 Matrix Snip&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>