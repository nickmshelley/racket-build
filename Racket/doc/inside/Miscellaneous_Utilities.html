<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>18&nbsp;Miscellaneous Utilities</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Inside:<span class="mywbr"> </span> Racket C API</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="im_values_types.html" class="tocviewlink" data-pltdoc="x">Values and Types</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="im_memoryalloc.html" class="tocviewlink" data-pltdoc="x">Memory Allocation</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="im_env.html" class="tocviewlink" data-pltdoc="x">Namespaces and Modules</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Procedures.html" class="tocviewlink" data-pltdoc="x">Procedures</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Evaluation.html" class="tocviewlink" data-pltdoc="x">Evaluation</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="exceptions.html" class="tocviewlink" data-pltdoc="x">Exceptions and Escape Continuations</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="threads.html" class="tocviewlink" data-pltdoc="x">Threads</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="config.html" class="tocviewlink" data-pltdoc="x">Parameterizations</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="contmarks.html" class="tocviewlink" data-pltdoc="x">Continuation Marks</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="im_encodings.html" class="tocviewlink" data-pltdoc="x">String Encodings</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Bignums__Rationals__and_Complex_Numbers.html" class="tocviewlink" data-pltdoc="x">Bignums, Rationals, and Complex Numbers</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Ports_and_the_Filesystem.html" class="tocviewlink" data-pltdoc="x">Ports and the Filesystem</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="Structures.html" class="tocviewlink" data-pltdoc="x">Structures</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="security.html" class="tocviewlink" data-pltdoc="x">Security Guards</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="Custodians.html" class="tocviewlink" data-pltdoc="x">Custodians</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="Subprocesses.html" class="tocviewlink" data-pltdoc="x">Subprocesses</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Miscellaneous Utilities</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="Flags_and_Hooks.html" class="tocviewlink" data-pltdoc="x">Flags and Hooks</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.3.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;5.3.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Subprocesses.html" title="backward to &quot;17 Subprocesses&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Inside: Racket C API&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Flags_and_Hooks.html" title="forward to &quot;19 Flags and Hooks&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>18<tt>&nbsp;</tt><a name="(part._.Miscellaneous_.Utilities)"></a>Miscellaneous Utilities</h3><p>The <span class="stt">MZSCHEME_VERSION</span> preprocessor macro is defined as a string
describing the version of Racket. The <span class="stt">MZSCHEME_VERSION_MAJOR</span>
and <span class="stt">MZSCHEME_VERSION_MINOR</span> macros are defined as the major and
minor version numbers, respectively.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">int</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_eq)"></a><a name="(idx._(gentag._544._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_eq%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_eq</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj1</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj2</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns 1 if the Scheme values are <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">int</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_eqv)"></a><a name="(idx._(gentag._545._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_eqv%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_eqv</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj1</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj2</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns 1 if the Scheme values are <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._eqv~3f%29%29" class="RktValLink" data-pltdoc="x">eqv?</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">int</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_equal)"></a><a name="(idx._(gentag._546._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_equal%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_equal</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj1</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj2</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns 1 if the Scheme values are <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">int</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_recur_equal)"></a><a name="(idx._(gentag._547._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_recur_equal%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_recur_equal</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj1</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj2</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">void*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">cycle_data</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <a href="#%28cpp._scheme_equal%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_equal</span></a>, but accepts an extra value for cycle
tracking. This procedure is meant to be called by a procedure
installed with <a href="im_values_types.html#%28cpp._scheme_set_type_equality%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_set_type_equality</span></a>.</div></p><p>Returns 1 if the Racket values are <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span>.}</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">intptr_t</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_equal_hash_key)"></a><a name="(idx._(gentag._548._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_equal_hash_key%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_equal_hash_key</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the primary <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span>-hash key for <span style="font-style: italic">obj</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">intptr_t</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_equal_hash_key2)"></a><a name="(idx._(gentag._549._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_equal_hash_key2%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_equal_hash_key2</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the secondary <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span>-hash key for <span style="font-style: italic">obj</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">intptr_t</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_recur_equal_hash_key)"></a><a name="(idx._(gentag._550._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_recur_equal_hash_key%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_recur_equal_hash_key</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">void*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">cycle_data</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <a href="#%28cpp._scheme_equal_hash_key%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_equal_hash_key</span></a>, but accepts an extra value for cycle
tracking. This procedure is meant to be called by a hashing procedure
installed with <a href="im_values_types.html#%28cpp._scheme_set_type_equality%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_set_type_equality</span></a>.</div></p><p>Returns the primary <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span>-hash key for <span style="font-style: italic">obj</span>.}</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">intptr_t</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_recur_equal_hash_key2)"></a><a name="(idx._(gentag._551._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_recur_equal_hash_key2%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_recur_equal_hash_key2</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">void*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">cycle_data</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <a href="#%28cpp._scheme_equal_hash_key2%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_equal_hash_key2</span></a>, but accepts an extra value for
cycle tracking. This procedure is meant to be called by a secondary
hashing procedure installed with <a href="im_values_types.html#%28cpp._scheme_set_type_equality%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_set_type_equality</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_build_list)"></a><a name="(idx._(gentag._552._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_build_list%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_build_list</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-style: italic">c</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object**</span><span class="hspace">&nbsp;</span><span style="font-style: italic">elems</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Creates and returns a list of length <span style="font-style: italic">c</span> with the elements
<span style="font-style: italic">elems</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">int</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_list_length)"></a><a name="(idx._(gentag._553._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_list_length%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_list_length</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">list</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the length of the list. If <span style="font-style: italic">list</span> is not a proper list,
then the last <span class="RktSym"><a href="../reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cdr%29%29" class="RktValLink" data-pltdoc="x">cdr</a></span> counts as an item. If there is a cycle in
<span style="font-style: italic">list</span> (involving only <span class="RktSym"><a href="../reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cdr%29%29" class="RktValLink" data-pltdoc="x">cdr</a></span>s), this procedure will not
terminate.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">int</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_proper_list_length)"></a><a name="(idx._(gentag._554._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_proper_list_length%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_proper_list_length</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">list</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the length of the list, or -1 if it is not a proper list.  If
there is a cycle in <span style="font-style: italic">list</span> (involving only <span class="RktSym"><a href="../reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cdr%29%29" class="RktValLink" data-pltdoc="x">cdr</a></span>s), this
procedure returns -1.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_car)"></a><a name="(idx._(gentag._555._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_car%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_car</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">pair</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the <span class="RktSym"><a href="../reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._car%29%29" class="RktValLink" data-pltdoc="x">car</a></span> of the pair.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_cdr)"></a><a name="(idx._(gentag._556._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_cdr%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_cdr</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">pair</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the <span class="RktSym"><a href="../reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cdr%29%29" class="RktValLink" data-pltdoc="x">cdr</a></span> of the pair.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_cadr)"></a><a name="(idx._(gentag._557._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_cadr%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_cadr</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">pair</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the <span class="RktSym"><a href="../reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cadr%29%29" class="RktValLink" data-pltdoc="x">cadr</a></span> of the pair.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_caddr)"></a><a name="(idx._(gentag._558._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_caddr%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_caddr</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">pair</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the <span class="RktSym"><a href="../reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._caddr%29%29" class="RktValLink" data-pltdoc="x">caddr</a></span> of the pair.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_vector_to_list)"></a><a name="(idx._(gentag._559._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_vector_to_list%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_vector_to_list</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">vec</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Creates a list with the same elements as the given vector.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_list_to_vector)"></a><a name="(idx._(gentag._560._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_list_to_vector%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_list_to_vector</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">list</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Creates a vector with the same elements as the given list.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_append)"></a><a name="(idx._(gentag._561._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_append%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_append</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">lstx</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">lsty</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Non-destructively appends the given lists.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_unbox)"></a><a name="(idx._(gentag._562._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_unbox%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_unbox</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">obj</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the contents of the given box.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">void</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_set_box)"></a><a name="(idx._(gentag._563._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_set_box%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_set_box</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">b</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">v</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Sets the contents of the given box.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_dynamic_require)"></a><a name="(idx._(gentag._564._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_dynamic_require%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_dynamic_require</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-style: italic">argc</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object**</span><span class="hspace">&nbsp;</span><span style="font-style: italic">argv</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">The same as <span class="RktSym"><a href="../reference/Module_Names_and_Loading.html#%28def._%28%28quote._~23~25kernel%29._dynamic-require%29%29" class="RktValLink" data-pltdoc="x">dynamic-require</a></span>. The <span style="font-style: italic">argc</span> argument must be
<span class="RktVal">2</span>, and <span style="font-style: italic">argv</span> contains the arguments.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td colspan="3"><p><span class="stt">Scheme_Object*</span></p></td></tr><tr><td><p><a name="(cpp._scheme_namespace_require)"></a><a name="(idx._(gentag._565._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_namespace_require%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_namespace_require</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">prim_req_spec</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">The same as <span class="RktSym"><a href="../reference/Namespaces.html#%28def._%28%28quote._~23~25kernel%29._namespace-require%29%29" class="RktValLink" data-pltdoc="x">namespace-require</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_load)"></a><a name="(idx._(gentag._566._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_load%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_load</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">char*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">file</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Loads the specified Racket file, returning the value of the last
expression loaded, or <span class="stt">NULL</span> if the load fails.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_load_extension)"></a><a name="(idx._(gentag._567._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_load_extension%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_load_extension</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">char*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">filename</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Loads the specified Racket extension file, returning the value provided
by the extension&rsquo;s initialization function.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Hash_Table*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_make_hash_table)"></a><a name="(idx._(gentag._568._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_make_hash_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_hash_table</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-style: italic">type</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Creates a hash table. The <span style="font-style: italic">type</span> argument must be either
<span class="stt">SCHEME_hash_ptr</span> or <span class="stt">SCHEME_hash_string</span>, which determines
how keys are compared (unless the hash and compare functions are
modified in the hash table record; see below). A <span class="stt">SCHEME_hash_ptr</span>
table hashes on a key&rsquo;s pointer address, while
<span class="stt">SCHEME_hash_string</span> uses a key as a <span class="stt">char*</span> and hashes on the
null-terminated string content. Since a hash table created with
<span class="stt">SCHEME_hash_string</span> (instead of <span class="stt">SCHEME_hash_ptr</span>) does not
use a key as a Racket value, it cannot be used from Racket code.</div></p><p>Although the hash table interface uses the type <span class="stt">Scheme_Object*</span>
for both keys and values, the table functions never inspect values,
and they inspect keys only for <span class="stt">SCHEME_hash_string</span> hashing. Thus,
the actual types of the values (and keys, for <span class="stt">SCHEME_hash_ptr</span>
tables) can be anything.</p><p>The public portion of the <span class="stt">Scheme_Hash_Table</span> type is defined
roughly as follows:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">typedef struct Scheme_Hash_Table {</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Scheme_Object so; /* so.type == scheme_hash_table_type */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">/* ... */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span>int size;<span class="hspace">&nbsp;&nbsp;</span><span class="stt">/* size of keys and vals arrays */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">int count; /* number of mapped keys */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Scheme_Object **keys;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Scheme_Object **vals;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">void (*make_hash_indices)(void *v, intptr_t *h1, intptr_t *h2);</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">int (*compare)(void *v1, void *v2);</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">/* ... */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">} Scheme_Hash_Table;</span></span></p></td></tr></table></p><p>The <span class="stt">make_hash_indices</span> and <span class="stt">compare</span> function pointers can be
set to arbitrary hashing and comparison functions (before any mapping
is installed into the table). A hash function should fill <span style="font-style: italic">h1</span>
with a primary hash value and <span style="font-style: italic">h2</span> with a secondary hash value;
the values are for double-hashing, where the caller takes appropriate
modulos. Either <span style="font-style: italic">h1</span> or <span style="font-style: italic">h2</span> can be <span class="stt">NULL</span> if the
corresponding hash code is not needed.</p><p>To traverse the hash table content, iterate over <span style="font-style: italic">keys</span> and
<span style="font-style: italic">vals</span> in parallel from <span class="stt">0</span> to <span class="stt">size-1</span>, and ignore
<span style="font-style: italic">keys</span> where the corresponding <span style="font-style: italic">vals</span> entry is <span class="stt">NULL</span>.
The <span class="stt">count</span> field indicates the number of non-<span class="stt">NULL</span> values
that will be encountered.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Hash_Table*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_make_hash_table_equal)"></a><a name="(idx._(gentag._569._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_make_hash_table_equal%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_hash_table_equal</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <a href="#%28cpp._scheme_make_hash_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_hash_table</span></a>, except that keys are treated as
Racket values and hashed based on <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span> instead of
<span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">void</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_hash_set)"></a><a name="(idx._(gentag._570._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_hash_set%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_hash_set</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Hash_Table*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">table</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">key</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">val</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Sets the current value for <span style="font-style: italic">key</span> in <span style="font-style: italic">table</span> to <span style="font-style: italic">val</span>. If
<span style="font-style: italic">val</span> is <span class="stt">NULL</span>, the <span style="font-style: italic">key</span> is unmapped in <span style="font-style: italic">table</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_hash_get)"></a><a name="(idx._(gentag._571._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_hash_get%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_hash_get</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Hash_Table*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">table</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">key</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the current value for <span style="font-style: italic">key</span> in <span style="font-style: italic">table</span>, or <span class="stt">NULL</span>
if <span style="font-style: italic">key</span> has no value.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Bucket_Table*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_make_bucket_table)"></a><a name="(idx._(gentag._572._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_make_bucket_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_make_bucket_table</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-style: italic">size_hint</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-style: italic">type</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Like <span class="stt">make_hash_table</span>, but bucket tables are somewhat more
flexible, in that hash buckets are accessible and weak keys are
supported. (They also consume more space than hash tables.)</div></p><p>The <span style="font-style: italic">type</span> argument must be either <span class="stt">SCHEME_hash_ptr</span>,
<span class="stt">SCHEME_hash_string</span>, or <span class="stt">SCHEME_hash_weak_ptr</span>. The first
two are the same as for hash tables. The last is like
<span class="stt">SCHEME_hash_ptr</span>, but the keys are weakly held.</p><p>The public portion of the <span class="stt">Scheme_Bucket_Table</span> type is defined
roughly as follows:</p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">typedef struct Scheme_Bucket_Table {</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Scheme_Object so; /* so.type == scheme_variable_type */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">/* ... */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span>int size;<span class="hspace">&nbsp;&nbsp;</span><span class="stt">/* size of buckets array */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">int count; /* number of buckets, &gt;= number of mapped keys */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Scheme_Bucket **buckets;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">void (*make_hash_indices)(void *v, intptr_t *h1, intptr_t *h2);</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">int (*compare)(void *v1, void *v2);</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">/* ... */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">} Scheme_Bucket_Table;</span></span></p></td></tr></table></p><p>The <span class="stt">make_hash_indices</span> and <span class="stt">compare</span> functions are used as
for hash tables. Note that <span class="stt">SCHEME_hash_weak_ptr</span> supplied as the
initial type makes keys weak even if the hash and comparison functions
are changed.</p><p>See <a href="#%28cpp._scheme_bucket_from_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bucket_from_table</span></a> for information on buckets.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">void</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_add_to_table)"></a><a name="(idx._(gentag._573._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_add_to_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_add_to_table</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Bucket_Table*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">table</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">const char*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">key</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">void*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">val</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">int</span><span class="hspace">&nbsp;</span><span style="font-style: italic">const</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Sets the current value for <span style="font-style: italic">key</span> in <span style="font-style: italic">table</span> to <span style="font-style: italic">val</span>. If
<span style="font-style: italic">const</span> is non-zero, the value for <span style="font-style: italic">key</span> must never be
changed.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">void</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_change_in_table)"></a><a name="(idx._(gentag._574._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_change_in_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_change_in_table</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Bucket_Table*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">table</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">const char*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">key</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">void*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">val</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Sets the current value for <span style="font-style: italic">key</span> in <span style="font-style: italic">table</span> to <span style="font-style: italic">val</span>, but
 only if <span style="font-style: italic">key</span> is already mapped in the table.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">void*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_lookup_in_table)"></a><a name="(idx._(gentag._575._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_lookup_in_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_lookup_in_table</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Bucket_Table*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">table</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">const char*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">key</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the current value for <span style="font-style: italic">key</span> in <span style="font-style: italic">table</span>, or <span class="stt">NULL</span>
 if <span style="font-style: italic">key</span> has no value.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td colspan="3"><p><span class="stt">Scheme_Bucket*</span></p></td></tr><tr><td><p><a name="(cpp._scheme_bucket_from_table)"></a><a name="(idx._(gentag._576._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_bucket_from_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_bucket_from_table</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Bucket_Table*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">table</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">const char*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">key</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the bucket for <span style="font-style: italic">key</span> in <span style="font-style: italic">table</span>. The
<span class="stt">Scheme_Bucket</span> structure is defined as:</div></p><p><table cellspacing="0"><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">typedef struct Scheme_Bucket {</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">Scheme_Object so; /* so.type == scheme_bucket_type */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">/* ... */</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">void *key;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">void *val;</span></span></p></td></tr><tr><td><p><span class="stt"><span class="hspace">&nbsp;&nbsp;</span><span class="stt">} Scheme_Bucket;</span></span></p></td></tr></table></p><p>Setting <span style="font-style: italic">val</span> to <span class="stt">NULL</span> unmaps the bucket&rsquo;s key, and <span style="font-style: italic">key</span>
can be <span class="stt">NULL</span> in that case as well.  If the table holds keys
weakly, then <span style="font-style: italic">key</span> points to a (weak) pointer to the actual key,
and the weak pointer&rsquo;s value can be <span class="stt">NULL</span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">intptr_t</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_double_to_int)"></a><a name="(idx._(gentag._577._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_double_to_int%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_double_to_int</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">char*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">where</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">double</span><span class="hspace">&nbsp;</span><span style="font-style: italic">d</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns a fixnum value for the given floating-point number <span style="font-style: italic">d</span>. If <span style="font-style: italic">d</span>
is not an integer or if it is too large, then an error message is
reported; <span style="font-style: italic">name</span> is used for error-reporting.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">intptr_t</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_get_milliseconds)"></a><a name="(idx._(gentag._578._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_get_milliseconds%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_get_milliseconds</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the current &ldquo;time&rdquo; in milliseconds, just like
<span class="RktSym"><a href="../reference/time.html#%28def._%28%28quote._~23~25kernel%29._current-milliseconds%29%29" class="RktValLink" data-pltdoc="x">current-milliseconds</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">intptr_t</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_get_process_milliseconds)"></a><a name="(idx._(gentag._579._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_get_process_milliseconds%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_get_process_milliseconds</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the current process &ldquo;time&rdquo; in milliseconds, just like
<span class="RktSym"><a href="../reference/time.html#%28def._%28%28quote._~23~25kernel%29._current-process-milliseconds%29%29" class="RktValLink" data-pltdoc="x">current-process-milliseconds</a></span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">char*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_banner)"></a><a name="(idx._(gentag._580._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_banner%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_banner</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns the string that is used as the Racket startup banner.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">char*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_version)"></a><a name="(idx._(gentag._581._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_version%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_version</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns a string for the executing version of Racket.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Hash_Table*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_get_place_table)"></a><a name="(idx._(gentag._582._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_get_place_table%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_get_place_table</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Returns an <span class="RktSym"><a href="../reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span>-based hash table that is global to the current
<a href="../reference/places.html#%28tech._place%29" class="techoutside" data-pltdoc="x"><span class="techinside">place</span></a>.</div></p><p>A key generated by <a href="#%28cpp._scheme_malloc_key%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_malloc_key</span></a> can be useful as a common
key across multiple <a href="../reference/places.html#%28tech._place%29" class="techoutside" data-pltdoc="x"><span class="techinside">place</span></a>s.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">Scheme_Object*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_malloc_key)"></a><a name="(idx._(gentag._583._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_malloc_key%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_malloc_key</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Generates an uncollectable Racket value that can be used across
places. Free the value with <a href="#%28cpp._scheme_free_key%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_free_key</span></a>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">void</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_free_key)"></a><a name="(idx._(gentag._584._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_free_key%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_free_key</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">Scheme_Object*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">key</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Frees a key allocated with <a href="#%28cpp._scheme_malloc_key%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_malloc_key</span></a>. When a key is
freed, it must not be accessible from any GC-travsered reference in
any place.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0"><tr><td><p><span class="stt">void*</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><a name="(cpp._scheme_register_process_global)"></a><a name="(idx._(gentag._585._(lib._scribblings/inside/inside..scrbl)))"></a><a href="#%28cpp._scheme_register_process_global%29" class="RktStxLink" data-pltdoc="x"><span class="stt">scheme_register_process_global</span></a></p></td><td><p><span class="stt">(</span></p></td><td><p><span class="stt">const char*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">key</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="stt">void*</span><span class="hspace">&nbsp;</span><span style="font-style: italic">val</span><span class="stt">)</span></p></td></tr></table></td></tr></table></div><div class="SIntrapara">Gets or sets a value in a process-global table (i.e., shared across
multiple places, if any). If <span style="font-style: italic">val</span> is NULL, the current mapping
for <span style="font-style: italic">key</span> is given, otherwise <span style="font-style: italic">val</span> is installed as the value
for <span style="font-style: italic">key</span> and <span class="stt">NULL</span> is returned. The given <span style="font-style: italic">val</span> must not
refer to garbage-collected memory.</div></p><p>This function is intended for infrequent use with a small number of
keys.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.3.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;5.3.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Subprocesses.html" title="backward to &quot;17 Subprocesses&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Inside: Racket C API&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Flags_and_Hooks.html" title="forward to &quot;19 Flags and Hooks&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>